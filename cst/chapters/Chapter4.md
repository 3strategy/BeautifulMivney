---
layout: page 
title: "פרק 4 – מחלקת StackT"
subtitle: "עבודה עם מחסנית – LIFO, Push ו‑Pop"
tags: [Stack, מחסנית, Push, Pop, Top, מחסנית גנרית, C#]
mathjax: true
lang: he
---

{. :box-note}
מחסנית (Stack) היא מבנה נתונים המתנהג לפי עיקרון **Last‑In‑First‑Out**: הפריט האחרון שנכנס הוא הראשון שיוצא. בפרק זה נלמד כיצד לעבוד עם מחסנית גנרית StackT ב‑C# ונעמוד על יתרונותיה וחסרונותיה.

<!-- Source: University of Wisconsin – Notes on Stacks -->

### מהי מחסנית?

<details markdown="1">
<summary>הגדרה ותיאור</summary>

מחסנית היא רשימה ליניארית שבה כל ההוספות והמחיקות מתבצעות בקצה אחד בלבד הנקרא **Top**. הפעולה הבסיסית של המחסנית היא `Push` (דחיפה) – הוספת פריט לראש המחסנית – ו‑`Pop` (שליפה) – הסרת הפריט האחרון שהוכנס. ניתן גם להציץ בפריט בראש המחסנית באמצעות `Top` מבלי להסיר אותו.

</details>

### מימוש מחסנית ב‑C#

בהמשך מופיע מימוש פשוט של מחסנית גנרית המבוססת על מערך פנימי ודינאמי. במחסנית זו קיימות פעולות הוספה, הסרה והצצה:

```csharp
public class Stack<T>
{
    private Node<T> head;
    public Stack() => this.head = null;
    public void Push(T x)
    {
        Node<T> temp = new Node<T>(x);
        temp.SetNext(head);
        head = temp;
    }
    public T Pop()
    {
        T x = head.GetValue();
        head = head.GetNext();
        return x;
    }
    public T Top() => head.GetValue();
    public bool IsEmpty() => head == null;
    public override string ToString()
    {
        if (this.IsEmpty())
            return "[]";
        string temp = head.ToString();
        return "TOP <== " + temp.Substring(0, temp.Length - 1) + "]";
    }
}
```

במימוש זה אנו משתמשים במערך להחזקה של הפריטים. כל פעם שמגיעים לקצה המערך אנו מכפילים את גודלו (הרחבה דינאמית). הפעולה `Pop` מחזירה ומוחקת את הפריט העליון ואילו `Top` מחזירה את הפריט מבלי למחוק אותו.

### דיאגרמה – פעולות המחסנית



הדיאגרמה מציגה פעולות בסיסיות: בהתחלה המחסנית ריקה; דוחפים את 5 ואז את 10; הצצה מחזירה 10; לאחר מכן שולפים 10, וה־5 נשאר.

### פעולות זמינות במחלקת StackT

|  תיאור | Method |
|--------|--------|
| דוחף פריט לראש המחסנית | `Push(T item)` |
| מסיר ומחזיר את הפריט האחרון שנכנס |`T Pop()` | 
|  מחזיר את הפריט האחרון מבלי להסיר |`T Top()` |
|  מחזיר אמת אם המחסנית ריקה |`bool IsEmpty()` |
|  מחזיר את מספר האיברים במחסנית |`int Count()` |
{: .table-rl}

#### אזהרות וטעויות נפוצות

{: .subq}
א. ניסיונות קריאה ל‑`Pop` או `Top` על מחסנית ריקה יגרמו לחריגה. יש לוודא שהמחסנית אינה ריקה לפני קריאה לפעולות אלו.  

{: .subq}
ב. מחסנית מתאימה לאלגוריתמים הפועלים בסדר הפוך (כגון חישוב ביטויים בפולנית הפוכה). שימוש לא נכון עלול לגרום ללוגיקה שגויה.  

### תרגול וקישורים

לתרגול הוספה והסרה במחסנית תוכלו לגשת לקישורים הבאים:

- [⬅ עברו לתרגיל Push ו‑Pop]({% link cst/4stack/Ex4a1stack.md %}#4a1.2)
- [⬅ עברו לתרגיל מחסנית לביטויים]({% link cst/4stack/Ex4a2stack.md %}#4a2.1)
**לעדכן את הקישור**

- [⬅ עברו לתרגיל שיווי משקל של סוגריים] כרגע חסר
